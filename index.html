
<!doctype html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>hello phaser!</title>
    <script src="//cdn.jsdelivr.net/phaser/2.5.0/phaser.min.js"></script>
</head>
<body>
<script type="text/javascript">

    window.onload = function() {

        var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example', { preload: preload, create: create, update: update, render: render });

        function preload() {
            game.load.spritesheet('bot','assets/trump_run.png',600/6,400/4,24);

        }

        var s;
//too fast
//framerate=60;
        //slowish
        //var framerate=6;

        //decent transitions
         var framerate=12;
        //hasty
        // var framerate=18;
        function create() {
            game.input.addPointer();
            game.input.addPointer();
//
/////////////////////////////////////////////////////////
//            //Adding Button
//          var button1 = game.add.button(650/*game.world.centerX +200*//*- 95*/, 400, 'button1', actionOnClick1,this)//, 2, 1, 0);
//          var button2 = game.add.button(600, 600, 'button2', actionOnClick2, this)//, 2, 1, 0);
//            //button3 = game.add.button(700/*game.world.centerX +200*//*- 95*/, 600, 'button3', actionOnClick3, this, 2, 1, 0);
//            //button4 = game.add.button(650/*game.world.centerX +200*//*- 95*/, 800, 'button4', actionOnClick4, this, 2, 1, 0);
////
////            button.onInputOver.add(over, this);
////            button.onInputOut.add(out, this);
////            button.onInputUp.add(up, this);
//            button1.onInputDown.add(over,this);
//            button1.onInputUp.add(out,this);
//            function over() {
//                s.animations.play('up',false);
//                s.y -= 4;
//            }
//            function out() {
//                s.animations.stop();
//            }                function actionOnClick1 () {
//        //alert("button");
//        //
//        }
//            function actionOnClick2 () {alert("button2");}
//            function actionOnClick3 () {}
//            function actionOnClick4 () {}
//            //////////////////////////////////////////////












            s = game.add.sprite(game.world.centerX, game.world.centerY, 'bot');
//            s.enableBody=true;
//         s.physicsBodyType=Phaser.Physics.ARCADE;
//          s.body.collideWorldBounds=true;
//game.physics.startSystem(Phaser.Physics.P2JS);
//            game.physics.p2.restitution=0.8;
//            game.physics.p2.enable(s);
            s.anchor.setTo(0.5, 0.5);
            s.scale.setTo(2, 2);

            s.animations.add('down',[0,1,2,3,4,5],framerate,true);
            s.animations.add('right',[6,7,8,9,10,11],framerate,true);
            s.animations.add('up',[12,13,14,15,16,17],framerate,true);
            s.animations.add('left',[18,19,20,21,22,23],framerate,true);

        }

        function update() {


///////////////////////////////////////////////////////
            //Adding Button
            var button1 = game.add.button(650/*game.world.centerX +200*//*- 95*/, 400, 'button1', actionOnClick1,this)//, 2, 1, 0);
            var button2 = game.add.button(600, 600, 'button2', actionOnClick2, this)//, 2, 1, 0);
            //button3 = game.add.button(700/*game.world.centerX +200*//*- 95*/, 600, 'button3', actionOnClick3, this, 2, 1, 0);
            //button4 = game.add.button(650/*game.world.centerX +200*//*- 95*/, 800, 'button4', actionOnClick4, this, 2, 1, 0);
//
//            button.onInputOver.add(over, this);
//            button.onInputOut.add(out, this);
//            button.onInputUp.add(up, this);
            button1.onInputDown.add(over,this);
            button1.onInputUp.add(out,this);
            function over() {
               {
                   s.animations.play('up',false);
                s.y -= 4;
               }
            }
            function out() {
                s.animations.stop();
            }                function actionOnClick1 () {
                //alert("button");
                //
            }
            function actionOnClick2 () {alert("button2");}
            function actionOnClick3 () {}
            function actionOnClick4 () {}
            //////////////////////////////////////////////



            if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT))
            {
                //s.animations.paused = true;
               s.animations.play('left',false);
                s.x -= 4;

            }
            else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT))
            {//
                // s.animations.paused = false;
                s.animations.play('right',false);
                s.x += 4;
                //
                // s.animations.paused = true;
            }

            if (game.input.keyboard.isDown(Phaser.Keyboard.UP))
            {
                //s.animations.paused = false;
                s.animations.play('up',false);
                s.y -= 4;
               // s.animations.next(1);
            }
            else if (game.input.keyboard.isDown(Phaser.Keyboard.DOWN))
            {//
                // s.animations.paused = false;
                s.animations.play('down',false);
                s.y += 4;
            }
            else if (game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR))
            {//s.animations.paused = false;

                s.y += 10;
                s.y += -10;
            }
            //s.add(onInputUpHandler())



            game.input.keyboard.onUpCallback = function( e ){
                s.animations.stop();
                //s.animations.paused=true;
            };
                // s.animations.paused = false;

            //var lastkey=game.input.keyboard.addKey(Phaser.Keyboard.lastKey);

         //   lastkey.onDown.add(function() {
           //     s.animations.stop();
            //});

            //     if(lastkey.downDuration(1))
         //       s.animations.stop();

        }

        function render() {
            game.debug.spriteInfo(s, 20, 32);
            game.debug.pointer(game.input.mousePointer);
            game.debug.pointer(game.input.pointer1);
            game.debug.pointer(game.input.pointer2);
            game.debug.pointer(game.input.pointer3);
            game.debug.pointer(game.input.pointer4);


        }
/*
*                                             Trump Maze
*               Features
* Trump says a dialog when he meets a dead end!!
* Trump joke upon success!!
*
*
*
* */

    };

</script>

</body>
</html>